{"numTotalTestSuites":6,"numPassedTestSuites":0,"numFailedTestSuites":6,"numPendingTestSuites":0,"numTotalTests":10,"numPassedTests":0,"numFailedTests":10,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1757941438076,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["RLS - Transactions","SELECT permissions"],"fullName":"RLS - Transactions SELECT permissions should allow family members to read family transactions","status":"failed","title":"should allow family members to read family transactions","duration":21.609500000000025,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'id')\n    at C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:45:35\n    at file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at runSuite (file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["RLS - Transactions","SELECT permissions"],"fullName":"RLS - Transactions SELECT permissions should allow viewers to read family transactions","status":"failed","title":"should allow viewers to read family transactions","duration":7.1370999999999185,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'id')\n    at C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:74:35\n    at file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at runSuite (file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["RLS - Transactions","SELECT permissions"],"fullName":"RLS - Transactions SELECT permissions should not allow access to transactions from other families","status":"failed","title":"should not allow access to transactions from other families","duration":5.962500000000546,"failureMessages":["Error: Erro ao autenticar utilizador: TypeError: Cannot read properties of undefined (reading 'ok')\n    at Object.createAndLoginTestUser (C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\utils\\supabaseTestClient.ts:168:17)\n    at setupTestUser (C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:14:19)\n    at C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:96:7\n    at file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["RLS - Transactions","INSERT permissions"],"fullName":"RLS - Transactions INSERT permissions should allow family admins to create transactions","status":"failed","title":"should allow family admins to create transactions","duration":5.451900000000023,"failureMessages":["Error: Erro ao autenticar utilizador: TypeError: Cannot read properties of undefined (reading 'ok')\n    at Object.createAndLoginTestUser (C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\utils\\supabaseTestClient.ts:168:17)\n    at setupTestUser (C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:14:19)\n    at C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:131:7\n    at file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["RLS - Transactions","INSERT permissions"],"fullName":"RLS - Transactions INSERT permissions should allow family members to create transactions","status":"failed","title":"should allow family members to create transactions","duration":5.834599999999227,"failureMessages":["Error: Erro ao autenticar utilizador: TypeError: Cannot read properties of undefined (reading 'ok')\n    at Object.createAndLoginTestUser (C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\utils\\supabaseTestClient.ts:168:17)\n    at setupTestUser (C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:14:19)\n    at C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:154:7\n    at file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["RLS - Transactions","INSERT permissions"],"fullName":"RLS - Transactions INSERT permissions should block viewers from creating transactions","status":"failed","title":"should block viewers from creating transactions","duration":6.33179999999993,"failureMessages":["Error: Erro ao autenticar utilizador: TypeError: Cannot read properties of undefined (reading 'ok')\n    at Object.createAndLoginTestUser (C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\utils\\supabaseTestClient.ts:168:17)\n    at setupTestUser (C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:14:19)\n    at C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:177:7\n    at file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["RLS - Transactions","UPDATE permissions"],"fullName":"RLS - Transactions UPDATE permissions should allow transaction owner to update their transactions","status":"failed","title":"should allow transaction owner to update their transactions","duration":7.84690000000046,"failureMessages":["Error: Erro ao autenticar utilizador: TypeError: Cannot read properties of undefined (reading 'ok')\n    at Object.createAndLoginTestUser (C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\utils\\supabaseTestClient.ts:168:17)\n    at setupTestUser (C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:14:19)\n    at C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:202:7\n    at file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["RLS - Transactions","UPDATE permissions"],"fullName":"RLS - Transactions UPDATE permissions should block viewers from updating transactions","status":"failed","title":"should block viewers from updating transactions","duration":6.81880000000001,"failureMessages":["Error: Erro ao autenticar utilizador: TypeError: Cannot read properties of undefined (reading 'ok')\n    at Object.createAndLoginTestUser (C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\utils\\supabaseTestClient.ts:168:17)\n    at setupTestUser (C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:14:19)\n    at C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:232:7\n    at file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["RLS - Transactions","DELETE permissions"],"fullName":"RLS - Transactions DELETE permissions should allow transaction owner to delete their transactions","status":"failed","title":"should allow transaction owner to delete their transactions","duration":11.147699999999531,"failureMessages":["Error: Erro ao autenticar utilizador: TypeError: Cannot read properties of undefined (reading 'ok')\n    at Object.createAndLoginTestUser (C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\utils\\supabaseTestClient.ts:168:17)\n    at setupTestUser (C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:14:19)\n    at C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:268:7\n    at file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["RLS - Transactions","DELETE permissions"],"fullName":"RLS - Transactions DELETE permissions should block viewers from deleting transactions","status":"failed","title":"should block viewers from deleting transactions","duration":10.664800000000469,"failureMessages":["Error: Erro ao autenticar utilizador: TypeError: Cannot read properties of undefined (reading 'ok')\n    at Object.createAndLoginTestUser (C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\utils\\supabaseTestClient.ts:168:17)\n    at setupTestUser (C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:14:19)\n    at C:\\Users\\pmati\\AppFamilyFinance\\FamilyFlowFinance\\tests\\integration\\rls\\transactions.spec.ts:302:7\n    at file:///C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}}],"startTime":1757941441242,"endTime":1757941441331.6648,"status":"failed","message":"","name":"C:/Users/pmati/AppFamilyFinance/FamilyFlowFinance/tests/integration/rls/transactions.spec.ts"}]}